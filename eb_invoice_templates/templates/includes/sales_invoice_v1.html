<style>
{% include "eb_invoice_templates/templates/includes/_invoice.css" ignore missing %}
</style>

<div class="invoice">
  <h2>{{ _(doc.company) }}</h2>
  <h3>{{ _("Sales Invoice") }} {{ doc.name }}</h3>

  <div class="meta">
    <div>{{ _("Posting Date") }}: {{ doc.get_formatted("posting_date") }}</div>
    <div>{{ _("Customer") }}: {{ doc.customer_name or doc.customer }}</div>
    {% if doc.tax_id %}<div>{{ _("VAT No.") }}: {{ doc.tax_id }}</div>{% endif %}
  </div>

  <table class="items">
    <thead>
      <tr>
        <th>{{ _("Item") }}</th>
        <th class="num">{{ _("Qty") }}</th>
        <th class="num">{{ _("Rate") }}</th>
        <th class="num">{{ _("Amount") }}</th>
      </tr>
    </thead>
    <tbody>
      {% for row in doc.items %}
      <tr>
        <td>
          <div class="item-name">{{ row.item_name or row.item_code }}</div>
          {% if row.description %}<div class="desc">{{ row.description | frappe.utils.strip_html }}</div>{% endif %}
        </td>
        <td class="num">{{ row.qty }}</td>
        <td class="num">{{ row.get_formatted("rate") }}</td>
        <td class="num">{{ row.get_formatted("amount") }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="totals">
    <div><span>{{ _("Net Total") }}</span><span>{{ doc.get_formatted("total") }}</span></div>
    <div><span>{{ _("Taxes") }}</span><span>{{ doc.get_formatted("total_taxes_and_charges") }}</span></div>
    <div class="grand"><span>{{ _("Grand Total") }}</span><span>{{ doc.get_formatted("grand_total") }}</span></div>
    {% if doc.rounded_total %}
    <div><span>{{ _("Rounded Total") }}</span><span>{{ doc.get_formatted("rounded_total") }}</span></div>
    {% endif %}
  </div>

  {% if doc.terms %}<div class="terms"><strong>{{ _("Terms") }}:</strong> {{ doc.terms | frappe.utils.strip_html }}</div>{% endif %}
</div>
